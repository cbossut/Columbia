<!--
Copyright ou © ou Copr. Clément Bossut, (2018)
<bossut.clement@gmail.com>

Ce logiciel est un programme informatique servant à écrire et jouer une conduite lumière synchronisée avec du son sur une Raspberry Pi avec PCA8596.

Ce logiciel est régi par la licence CeCILL soumise au droit français et
respectant les principes de diffusion des logiciels libres. Vous pouvez
utiliser, modifier et/ou redistribuer ce programme sous les conditions
de la licence CeCILL telle que diffusée par le CEA, le CNRS et l'INRIA
sur le site "http://www.cecill.info".
-->

<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8">
  <script src="./socket.io.dev.js"></script>
  <script src="./interact.js"></script>
  <link rel="stylesheet" type="text/css" href="./interface.css">
</head>

<body>
  <h1 id="titre">Interface from RPi :</h1>
  <div class="led" id="co"></div>
  <span id="debug"></span>

  <div class="ligne" id="prod">
    <select id="files"></select>
    <button id="load">Charger</button>
    <button id="choose">Choisir comme conduite</button>
    <span> à la place de </span><span id="conduite"></span>
    <button id="edit">Éditer</button>
  </div>

  <div class="ligne" id="general">
    <button id="newFile">Nouveau</button>
    <input id="fileName">
    <button id="save">Sauvegarder</button>
    <!--button id="play">Tester</button-->
    <button id="patchShow">Patch</button>
    <!--span id="testPos"></span-->
    <button id="exit">Quitter</button>
  </div>

  <div class="ligne" id="son">
    <select id="soundFiles"></select>
    <button id="soundLoad">Charger</button>
    <button id="soundPlay" disabled>Lire</button>
    <span class="timeText" id="soundPos">0:00.000</span>/
    <span class="timeText" id="soundDur">0:00.000</span>
    (<span id="soundDurSeconds">0</span>secondes)
    <span class="timeText" id="soundMin">0:00.000</span>
    <span class="timeText" id="soundMax">0:00.000</span>
    <div class="player" id="soundContainer">
      <span id="soundRepresentation"></span>
      <div class="player" id="soundBar"></div>
      <div class="proto player cursor" id="soundCursor">
        <span class="cursorName">10.2</span>
        <div class="cursorHandle"></div>
      </div>
    </div>
  </div>

  <div id="flex">

    <div class="panel" id="cueP">
      <span>Mem N°</span>
      <input id="mem">
      <button id="addCue" disabled>Ajouter</button>

      <button class="adroite" id="selAllFader">All</button>

      <br><br>

      <button class="cueAct" id="delCue" disabled>Supprimer</button>
      <button class="cueAct" id="go" disabled>GO</button>
      <span id="progress"></span>

      <br>

      <div class="scroller">
      <table>
        <thead>
          <th>Nom</th>
          <th>Seq</th>
          <th>Mem</th>
          <th>Modifier</th>
          <th>Durées</th>
          <th>Montée<div class="progress" id="upProgress"></div></th>
          <th>Descente<div class="progress" id="downProgress"></div></th>
          <th>Date</th>
        </thead>
        <tr class="proto cueTR" id="cue">
          <td><input></td>
          <td>0</td>
          <td>0</td>
          <td class="redBack"><button class="nosel">Mod</button></td>
          <td><input class="time nosel" type="number" min=0 step=0.1 value=10></td>
          <td><input class="time nosel" type="number" min=0 step=0.1 value=10></td>
          <td><input class="time nosel" type="number" min=0 step=0.1 value=10></td>
          <td>
            <input class="nosel" type="time" step=.001>
            <button class="nosel">Marquer</button>
          </td>
        </tr>
        <tbody id="cueList">
        </tbody>
      </table>
      </div>
    </div>

    <div class="panel" id="miseP">
      <span>Délai conduite en secondes :</span>
      <input id="startDelay" class="time" type="number" min=0 step=0.1 value=0>
      <button id="testMise">Test à la seconde : </button>
      <input id="testDelay" class="time" type="number" min=0 value=0>
      <button id="stopMise">Stop</button>
      <button class="adroite" id="addMise">+</button>
      <button class="adroite" id="delMise">-</button>

      <br>

      <button id="cuisine" disabled>Reload Cuisine</button>

      <br>

      <table>
        <thead>
          <th>Circuit</th>
          <th>Mise</th>
          <th>Pendant</th>
          <th colspan="2">Date Off Durée</th>
          <th colspan="2">Date On Durée</th>
        </thead>
        <tr class="proto" id="miseLine">
          <td>
            <select>
              <option>DMX</option>
              <option>Orgue</option>
              <option>NONE</option>
            </select>
            <input type="number" min=1 max=24>
          </td>
          <td><input class="time" type="number" min=0 max=100 step=.1></td>
          <td><input class="time" type="number" min=0 max=100 step=.1></td>
          <td><input class="time" type="number" min=0 step=.1></td>
          <td><input class="time" type="number" min=0 step=.1></td>
          <td><input class="time" type="number" min=0 step=.1></td>
          <td><input class="time" type="number" min=0 step=.1></td>
        </tr>
        <tbody id="miseBody">
        </tbody>
      </table>
    </div>

    <div class="fader proto" id="fader">1<br>0</div>

    <div class="panel" id="DMXP">
      <span>Max canaux DMX :</span>
      <input id="maxDMX" class="time" type="number" min=24 max=255 value=24>
      <br>
    </div>

    <div class="panel" id="orgueP">
    </div>

    <div class="panel" id="patchP">
      <table>
        <thead>
          <th>Voie</th>
          <th>Nom</th>
          <th>Addresse</th>
          <th>Courbe</th>
        </thead>
        <tr class="proto" id="patchLine">
          <td>0</td>
          <td><input class="patchName"></td>
          <td>
            <select class="pcas"></select>
            <input class="ledNumber" type="number" min=1 max=16>
          </td>
          <td>
            <input class="exposantCourbe" type="number" min=.1 max=3 step=.1>
          </td>
        </tr>
        <tbody id="patchList">
        </tbody>
      </table>
    </div>

  </div>

  <div class="ligne" id="gpios">
    <input class="time" type="number" min=.1 max=10 step=.1 id="debounceTimeout" display="none">
    <input class="time" type="number" min=.1 max=10 step=.1 id="relaunchTimeout">
    <input type="checkbox" id="testGPIO">
  </div>




  <script src="./interface.js"></script>

</body>
</html>
